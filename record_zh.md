### 抓包相关知识

#### 1、为什么Hodor可以抓取Flutter的流量而其他抓包软件做不到
因为应用市场上的抓包软件均是通过系统HTTP代理做的转发，而Flutter等一些软件通过一些技术手段绕过了系统HTTP代理。但是Hodor是基于IP协议实现的，更底层，因此能抓到所有的数据流量。除了Flutter，很多原生App也会绕过系统HTTP代理，但是如果你使用Hodor所有的HTTP流量都可以抓到。

#### 2、什么是CONNECT协议，为什么我的记录中有很多CONNECT请求

CONNECT协议是一种用于在客户端和服务器之间建立隧道连接的协议，通常用于SSL/TLS加密通信以及代理服务器。通过该协议，客户端可以直接与目标服务器通信。  
简而言之是系统把加密的HTTPS流量转换为了一个CONNECT协议，代理服务器在接收到CONNECT协议以后，会直接转发对应的流量，而不会关心其内容是什什么，因此如果没有使用MITM解密数据流量，你仅会看到CONNECT请求。

在Hodor中，如你你开启了高阶模式，Hodor会捕获TCP的流量，并转换为CONNECT请求转发给代理服务器，因此如果你想查看TCP流量，你可以关注对应域名的CONNECT请求

#### 3、为什么我开启了MITM，部分请求还是显示的CONNECT
因为MITM解密仅支持单向认证，即客户端认证服务器，如果采用双向认证即既有客户端认证服务器又有服务器要认证客户端，那么就无法解密，无法解密的请求均以CONNECT请求的方式记录。

#### 4、要合理使用Hodor抓包，必须要理解URL的组成部分
URL（Uniform Resource Locator），统一资源定位符，是用于标识互联网上资源位置的地址。它由若干个部分组成：

`scheme `：指定访问该资源所使用的协议，例如HTTP、HTTPS、FTP等。  
`host `：指定服务器的域名或IP地址。   
`port `：指定服务器提供该服务的端口号，如果没有明确指定则使用默认端口号。   
`path `：指定服务器上资源的具体路径，以斜线/开头。  
`query `：在URL中传递附加的信息参数，以问号?开头，多个参数之间用&连接，是一串键值对组合。  

例如

	http://example.com:8080/path/to/resource?foo=bar&foo1=bar1
scheme为`HTTP`  
host为`example.com`  
port为`8080`  
path为`/path/to/resource`  
query参数为`foo=bar&foo1=bar1`  
在匹配的时候使用这些组成部分单独做的匹配  

  
***写在最后：由于HTTP协议的传输控制有非常多的组合方式，作者在测试时难免有考虑不周的地方，如果你发现某个功能没有按照文档的描述运作，或者说没有达到您的预期结果，请通过email联系我们`hodorsoft@outlook.com`。创作不易，如果您觉得用起来顺手，希望去AppStore给个好评，你的支持是我更新的最大动力。***
